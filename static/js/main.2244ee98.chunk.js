(this.webpackJsonp12=this.webpackJsonp12||[]).push([[0],{84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r,s=n(3),a=n.n(s),i=n(44),c=n.n(i),o=n(21),l=n(7),d=n(8),u=n(20),j=n(52),h=n(53),p=n(15),b=n(16),O=n(18),v=n(17),x=n(24),g=n(87),f=n(27),m=n(1),y=Object(f.a)(r||(r=Object(x.a)(["\n  query {\n    viewer {\n      id\n      login\n      repositories(first: 100) {\n        nodes {\n          id\n          name\n          url\n        }\n      }\n    }\n  }\n"]))),k=function(){return Object(m.jsx)(g.a,{query:y,children:function(e){var t=e.loading,n=e.error,r=e.data;return t?Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:"https://flevix.com/wp-content/uploads/2020/01/Preloader-2.svg",alt:"preloader"})}):n?Object(m.jsx)("h3",{id:"error",children:"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u044b, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 github access token"}):Object(m.jsxs)("div",{id:"personal-repos",children:[Object(m.jsxs)("h3",{children:["\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u043a\u0430\u043a ",r.viewer.login,", \u0432\u0430\u0448\u0438 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438:"]}),r.viewer.repositories.nodes.map((function(e){return Object(m.jsxs)("div",{className:"repo-wrapper",children:[Object(m.jsx)("h4",{children:e.name})," ",Object(m.jsx)("a",{className:"url",href:e.url,children:e.url}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"url",children:Object(m.jsx)(o.b,{to:"/repo/"+e.name,children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u043d\u0444\u044b"})})]},e.id)}))]})}})},w=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={data:[]},r}return Object(b.a)(n,[{key:"auth",value:function(){var e=document.getElementById("input-token").value;localStorage.setItem("token",e),window.location.reload()}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{id:"form",children:[Object(m.jsx)("h4",{children:"\u0412\u0445\u043e\u0434"}),Object(m.jsx)("input",{id:"input-token",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 token"}),Object(m.jsx)("button",{onClick:function(){e.auth()},children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(m.jsx)(k,{})]})}}]),n}(a.a.Component),C=n(50),N=n.n(C);function S(e){return Object(m.jsxs)("div",{className:"Card",children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{className:"avatar",alt:"avatar",src:e.avatar})}),Object(m.jsx)("div",{className:"Login",children:Object(m.jsx)("h3",{children:e.login})}),Object(m.jsx)("a",{className:"url",href:e.url,children:Object(m.jsx)("div",{children:e.name})})]})}var P,E=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"List",children:this.props.data.map((function(e,t){return Object(m.jsx)(S,{avatar:e.owner.avatar_url,login:e.owner.login,url:e.html_url,api_url:e.url,name:e.name},t)}))})}}]),n}(a.a.Component),_=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={data:[],vis:"non-vis",page:1,pages:25,per_page:10,pagination:[]},r}return Object(b.a)(n,[{key:"re_search",value:function(){var e=this;this.setState((function(){return{page:1}}),(function(){return e.search()}))}},{key:"search",value:function(){for(var e=this,t=document.getElementById("search-text").value,n=new Array(this.state.pages),r=0;r<n.length;r++)n[r]=r;if(""!==t){var s=document.getElementById("sort-items").value,a=s.split("-")[1],i="https://api.github.com/search/repositories?q="+t+("&page="+this.state.page+"&per_page="+this.state.per_page);"best-matches"===s&&(i+="&o=desc"),"most-stars"===s&&(i+="&sort="+a+"&order=desc"),"fewest-stars"===s&&(i+="&sort="+a+"&order=asc"),"most-forks"===s&&(i+="&sort="+a+"&order=desc"),"fewest-forks"===s&&(i+="&sort="+a+"&order=asc"),"resently-updated"===s&&(i+="&sort="+a+"&order=desc"),"lasts-resently-updated"===s&&(i+="&sort="+a+"&order=asc"),N()(i).then((function(t){0!==t.data.items.length?e.setState((function(){return{data:t.data.items,pagination:n,vis:"vis"}}),(function(){return e.ActiveP()})):alert("\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u0432 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.")})).catch((function(e){alert(e.message)}))}}},{key:"next",value:function(){var e=this;this.state.page===this.state.pages?this.setState((function(){return{page:1}}),(function(){return e.search()})):this.setState((function(e){return{page:e.page+1}}),(function(){return e.search()}))}},{key:"prev",value:function(){var e=this;1!==this.state.page?this.setState((function(e){return{page:e.page-1}}),(function(){return e.search()})):this.setState((function(e){return{page:e.pages}}),(function(){return e.search()}))}},{key:"CurrentP",value:function(e){this.setState((function(){return{page:e}}))}},{key:"ActiveP",value:function(){for(var e=document.getElementsByClassName("page"),t=0;t<e.length;t++)this.state.page===+e[t].innerText?e[t].classList.add("active"):e[t].classList.remove("active")}},{key:"changePageOnClick",value:function(e){var t=this;this.setState((function(){return{page:e}}),(function(){return t.search()}))}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"headhead",children:" Search Repos "}),Object(m.jsxs)("div",{id:"search",children:[Object(m.jsxs)("select",{id:"sort-items",onChange:function(){return e.CurrentP(1)},children:[Object(m.jsx)("option",{value:"best-match",children:"Best match"}),Object(m.jsx)("option",{value:"most-stars",children:"Most stars"}),Object(m.jsx)("option",{value:"fewest-stars",children:"Fewest stars"}),Object(m.jsx)("option",{value:"most-forks",children:"Most forks"}),Object(m.jsx)("option",{value:"fewest-forks",children:"Fewest forks"}),Object(m.jsx)("option",{value:"resently-updated",children:"Resently updated"}),Object(m.jsx)("option",{value:"lasts-resently-updated",children:"Lasts resently updated"})]}),Object(m.jsx)("input",{type:"text",id:"search-text"}),Object(m.jsx)("button",{onClick:function(){return e.re_search()},children:"Search"})]}),Object(m.jsx)(E,{data:this.state.data}),Object(m.jsxs)("div",{id:"pagination",className:this.state.vis,children:[Object(m.jsx)("button",{onClick:function(){return e.prev()},children:"Prev"}),Object(m.jsx)("div",{id:"pages",children:this.state.pagination.map((function(t){return Object(m.jsx)("div",{className:"page",onClick:function(){return e.changePageOnClick(t+1)},children:t+1},t)}))}),Object(m.jsx)("button",{onClick:function(){return e.next()},children:"Next"})]})]})}}]),n}(a.a.Component),A=n(22),B=n(51),I=n.n(B),q=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={options:{labels:["Open issues","Closed issues"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},series:[r.props.open,r.props.close]},r}return Object(b.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{id:"chart",children:Object(m.jsx)(I.a,{options:this.state.options,series:this.state.series,type:"pie",width:"380"})})}}]),n}(a.a.Component),L=Object(f.a)(P||(P=Object(x.a)(['\n  query Info($repoName: String!) {\n    viewer {\n      id\n      login\n      repository(name: $repoName) {\n        issues(first: 100) {\n          edges {\n            node {\n              state\n            }\n          }\n        }\n        ref(qualifiedName: "master") {\n          target {\n            ... on Commit {\n              committedDate\n            }\n          }\n        }\n        forkCount\n        updatedAt\n        createdAt\n        languages(first: 10) {\n          nodes {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n'])));function T(){var e=window.location.pathname,t=e.slice(6,e.length),n=Object(A.b)(L,{variables:{repoName:t}}),r=n.loading,s=n.error,a=n.data;if(r)return Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:"https://flevix.com/wp-content/uploads/2019/07/Ring-Preloader.gif",alt:"preloader"})});if(s)return Object(m.jsxs)("p",{children:["\u0412\u043e\u0437\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",console.log(s.message)]});for(var i=0,c=0,o=a.viewer.repository.issues.edges,l=0;l<o.length;l++)"OPEN"===o[l].node.state?c++:"CLOSED"===o[l].node.state&&i++;var d=a.viewer.repository.createdAt,u=(d=d.slice(0,d.length-1)).split("T")[0],j=d.split("T")[1],h=a.viewer.repository.updatedAt,p=(h=h.slice(0,h.length-1)).split("T")[0],b=h.split("T")[1];return Object(m.jsxs)("div",{id:"repo-info",children:[Object(m.jsxs)("div",{id:"title",children:[Object(m.jsx)("strong",{children:"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439:"})," ",t]}),Object(m.jsxs)("div",{id:"date-time-create",children:[Object(m.jsx)("strong",{children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: "}),u," ",j]}),Object(m.jsxs)("div",{id:"date-time-update",children:[Object(m.jsx)("strong",{children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435: "})," ",p," ",b]}),Object(m.jsxs)("div",{id:"languages",children:[Object(m.jsx)("strong",{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u044f\u0437\u044b\u043a\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:"}),Object(m.jsx)("ul",{children:0!==a.viewer.repository.languages.nodes.length?a.viewer.repository.languages.nodes.map((function(e){return Object(m.jsx)("li",{children:e.name},e.id)})):Object(m.jsx)("div",{children:"\u041d\u0435\u0442 \u044f\u0437\u044b\u043a\u043e\u0432 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"})})]}),Object(m.jsxs)("div",{id:"forks",children:[Object(m.jsx)("strong",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0444\u043e\u0440\u043a\u043e\u0432: "}),a.viewer.repository.forkCount]}),0===o.length?Object(m.jsx)("div",{id:"not-issues",children:"Empty issues"}):Object(m.jsx)(q,{open:c,close:i})]})}var R=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{id:"nav",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/search",children:"\u041f\u043e\u0438\u0441\u043a"})})]})})}}]),n}(a.a.Component),D=new h.a({uri:"https://api.github.com/graphql",headers:{authorization:"Bearer "+localStorage.getItem("token")}}),F=new u.a({link:D,cache:new j.a}),J=function(){return Object(m.jsx)(d.a,{client:F,children:Object(m.jsxs)(o.a,{children:[Object(m.jsx)(R,{}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",component:w}),Object(m.jsx)(l.a,{exact:!0,path:"/search",component:_}),Object(m.jsx)(l.a,{path:"/repo/:name",component:T})]})]})})};n(84);c.a.render(Object(m.jsx)(J,{}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.2244ee98.chunk.js.map